(function(){define(["angular","socket.io"],function(a,b){var c;c=a.module("socket",[]),c.factory("socket",["$rootScope","$location",function(a,d){return function(e){return c=b.connect(e),c.socket.connected&&(c.socket.disconnect(),c.socket.reconnect()),c.on("error",function(b){d.path("/error").search(b).replace(),a.$apply()}),{on:function(b,d){return c.on(b,function(){var b;return b=arguments,a.$apply(function(){return d.apply(c,b)})})},emit:function(b,d,e){return c.emit(b,d,function(){var b;return b=arguments,a.$apply(function(){return e?e.apply(c,b):void 0})})}}}}])})}).call(this);