(function(){define(["angular","facebook"],function(a){var b;return b=a.module("topfriends.topchat",["ngRoute"]),b.config(["$routeProvider","$locationProvider",function(a,b){return b.hashPrefix("!"),a.when("/facebook/topchat",{templateUrl:"templates/facebook/topchat",controller:"TopChatController"}).when("/facebook/topchat/share/:id",{templateUrl:"templates/facebook/topchat.share",controller:"TopChatShareController"}).otherwise({redirectTo:"/"})}]),b.controller("TopChatShareController",["$scope","$http","$comet","$location",function(){return console.log("xd")}]),b.controller("TopChatController",["$scope","$http","$comet","$location",function(a,b,c,d){a.threads=[],a.status=null,a.name_search="",a.image="",a.settings={tag:!1,friendsToTag:[],share:!0,length:"top10"},a.filterIt=function(){return a.name_search?!1:!0},a.generate=function(){return a.status="Preparando...",c("/topchat/generate/:cbFn",function(b,c){switch(b){case"status":a.status=c;break;case"error":d.path("/error").search("message",c);break;case"die":d.path("/");break;case"image":a.image=c;break;case"complete":d.path("/facebook/topchat/share/"+a.image)}},a.settings)},a.init=function(){a.status="Carregando...",c("/topchat/comet/:cbFn",function(b,c){switch(b){case"status":a.status=c;break;case"threads":a.status="",a.threads=JSON.parse(c);break;case"error":d.path("/error").search("message",c);break;case"die":d.path("/")}})}}])})}).call(this);